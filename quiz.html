<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Smite Quiz v2</title>
    <link rel="stylesheet" type="text/css" href="quiz.css">
</head>

<body>
<main class="main">
    <div class="sidebar">
        <div class="question-button">
            <p style="color: white;">Question Controls</p>
            <button id="question-back" onclick="$quiz.clearAndReturn();">Back</button>
            <input type="button" value="Start" onclick="countdown()">
            <input type="button" value="Stop" onclick="cdpause()">
            <input type="button" value="Reset" onclick="cdreset()">
        </div>
        <div class="question-button">
            <p style="color: white;">Question Point Multiplier: </p>
            <input style="width: 100px;" type="number" id="question-point-multiplier" value="1"/>
            <input type="button" value="Set" onclick="$quiz.setDefaultPointValues()">
        </div>
    </div>
    <div class="main-content">
        <div id="startGame">
            <button type="submit" onclick="$quiz.loadNewGame('questions.json')">Start New Game</button>
        </div>
        <div style="display: none;" id="pointLayout">
            <table id="pointTable">
                <thead>
                    <tr class="header-row">
                        <td id="points-0" default-points="10">10</td>
                        <td id="points-1" default-points="20">20</td>
                        <td id="points-2" default-points="30">30</td>
                        <td id="points-3" default-points="40">40</td>
                    </tr>
                </thead>
                <tbody class="game-cell">
                    <tr>
                        <td class="game-select-question" data-question-number="0" id="question-0"></td>
                        <td class="game-select-question" data-question-number="3" id="question-3"></td>
                        <td class="game-select-question" data-question-number="6" id="question-6"></td>
                        <td class="game-select-question" data-question-number="9" id="question-9"></td>
                    </tr>
                    <tr>
                        <td class="game-select-question" data-question-number="1" id="question-1"></td>
                        <td class="game-select-question" data-question-number="4" id="question-4"></td>
                        <td class="game-select-question" data-question-number="7" id="question-7"></td>
                        <td class="game-select-question" data-question-number="10" id="question-10"></td>
                    </tr>
                    <tr>
                        <td class="game-select-question" data-question-number="2" id="question-2"></td>
                        <td class="game-select-question" data-question-number="5" id="question-5"></td>
                        <td class="game-select-question" data-question-number="8" id="question-8"></td>
                        <td class="game-select-question" data-question-number="11" id="question-11"></td>
                    </tr>
                </tbody>
            </table>
            <div id="question" style="display: none;">
                <div>
                    <h3 style="display: none;" class="submitter-text"><span id="question-number"></span>. Submitted by: <span id="submitter-text"></span></h3>
                    <h2 id="question-text">What unique sword is found in Lake Cave?</h2>
                    <div class="answers-container">
                        <table id="answers">
                            <tr>
                                <td data-correct="false" id="1" class="answer">Insect Crush</td>
                            </tr>
                            <tr>
                                <td data-correct="true" id="2" class="answer">Insect Crush 2</td>
                            </tr>
                            <tr>
                                <td data-correct="false" id="3" class="answer">Insect Crush 3</td>
                            </tr>
                            <tr>
                                <td data-correct="false" id="4" class="answer">Insect Crush 4</td>
                            </tr>
                        </table>
                        <div class="timer">
                            <div id="timespan"></div>
                        </div>
                    </div>
                    <div style="display: none;" class="right-answer-choice">
                        RIGHT!
                        <div class="doughnut"></div>
                    </div>
                    <div style="display: none;" class="wrong-answer-choice">
                        WRONG!
                        <div class="cross"></div>
                    </div>
                    <div class="hiddent-content">
                        <div id="question-comment"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="quiz.js"></script>
<script>
    var add;
    var ts, timespan;
    var CCOUNT = 15;
    var t, count, isPlaying = false;

    function cddisplay() {
        // displays time in span
        document.getElementById('timespan').innerHTML = count;
    };

    function countdown() {
        // starts countdown
        cddisplay();
        if (!isPlaying) {
            isPlaying = true;
            $('.timer').show();
            $('#think-music')[0].play();
        }
        if (count === 0) {
            // time is up
            clearTimeout(t);
            $quiz.isCorrect(false);
            cdreset();
        } else {
            count--;
            t = setTimeout("countdown()", 1000);
        }
    };

    function cdpause() {
        // pauses countdown
        isPlaying = false;
        clearTimeout(t);
        $('#think-music')[0].pause();
    };

    function cdreset() {
        // resets countdown
        $('.timer').hide();
        cdpause();
        $('#think-music')[0].currentTime = 0;
        count = CCOUNT;
        cddisplay();
    };

    window.onload = function() {
        cdreset();
    }

</script>
<audio id="think-music" preload>
    <source src="familythink.mp3"/>
</audio>
<audio id="right-sound" preload>
    <source src="right.mp3"/>
</audio>
<audio id="wrong-sound" preload>
    <source src="wrong.mp3"/>
</audio>
</body>

</html>